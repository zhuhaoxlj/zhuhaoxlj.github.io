<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>树莓派 python 使用 PCF8591 读取声音传感器数据</title>
      <link href="/2022/09/11/shu-mei-pai-yu-sheng-yin-chuan-gan-qi-python/"/>
      <url>/2022/09/11/shu-mei-pai-yu-sheng-yin-chuan-gan-qi-python/</url>
      
        <content type="html"><![CDATA[<h1 id="树莓派-python-使用-PCF8591-读取声音传感器数据"><a href="#树莓派-python-使用-PCF8591-读取声音传感器数据" class="headerlink" title="树莓派 python 使用 PCF8591 读取声音传感器数据"></a>树莓派 python 使用 PCF8591 读取声音传感器数据</h1><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><p>运用树莓派连接PCF8591芯片将声音传感器的模拟信号转换成数字信号。（PCF8591芯片最大的特点就是将模拟信号转换成数字信号）</p><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p>1.树莓派 <em>1<br>2.PCF8591 </em>1（使用AIN读取模拟信号时，要把跳帽拔下来）<br>3.声音传感器 *1<br><img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209111904880.jpeg" alt="在这里插入图片描述"><br><img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209111904994.jpeg" alt="在这里插入图片描述"></p><h2 id="接线"><a href="#接线" class="headerlink" title="接线"></a>接线</h2><p><img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209120947205.png" alt="rpi-pins-40-0"></p><table><thead><tr><th>麦克风</th><th>PCF8591</th><th>树莓派</th></tr></thead><tbody><tr><td>A0</td><td>AIN0</td><td>*</td></tr><tr><td>*</td><td>SCL</td><td>SCL</td></tr><tr><td>*</td><td>SDA</td><td>SDA</td></tr><tr><td>*</td><td>GND</td><td>GND</td></tr><tr><td>*</td><td>3V</td><td>3V</td></tr><tr><td>5V</td><td>*</td><td>5V</td></tr></tbody></table><blockquote><p>如果使用四路外部电压输入，需要将3个红色段路帽都取下</p></blockquote><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p><code>PCF8591.py</code></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> smbus<span class="token keyword">import</span> time<span class="token comment" spellcheck="true"># 对应比较旧的版本如RPI V1 版本，则 "bus = smbus.SMBus(0)"</span>bus <span class="token operator">=</span> smbus<span class="token punctuation">.</span>SMBus<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#通过 sudo i2cdetect -y -1 可以获取到IIC的地址</span><span class="token keyword">def</span> <span class="token function">setup</span><span class="token punctuation">(</span>Addr<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> address    address <span class="token operator">=</span> Addr<span class="token comment" spellcheck="true"># 读取模拟量信息</span><span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>chn<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#通道选择，范围是0-3之间</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> chn <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            bus<span class="token punctuation">.</span>write_byte<span class="token punctuation">(</span>address<span class="token punctuation">,</span><span class="token number">0x40</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> chn <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>            bus<span class="token punctuation">.</span>write_byte<span class="token punctuation">(</span>address<span class="token punctuation">,</span><span class="token number">0x41</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> chn <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>            bus<span class="token punctuation">.</span>write_byte<span class="token punctuation">(</span>address<span class="token punctuation">,</span><span class="token number">0x42</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> chn <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>            bus<span class="token punctuation">.</span>write_byte<span class="token punctuation">(</span>address<span class="token punctuation">,</span><span class="token number">0x43</span><span class="token punctuation">)</span>        bus<span class="token punctuation">.</span>read_byte<span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 开始进行读取转换</span>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Address: %s"</span> <span class="token operator">%</span> address<span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span>    <span class="token keyword">return</span> bus<span class="token punctuation">.</span>read_byte<span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 模块输出模拟量控制，范围为0-255</span><span class="token keyword">def</span> <span class="token function">write</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        temp <span class="token operator">=</span> val <span class="token comment" spellcheck="true"># 将数值赋给temmp 变量</span>        temp <span class="token operator">=</span> int<span class="token punctuation">(</span>temp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 将字符串转换为整型</span>        <span class="token comment" spellcheck="true"># 在终端上打印temp以查看，否则将注释掉</span>        bus<span class="token punctuation">.</span>write_byte_data<span class="token punctuation">(</span>address<span class="token punctuation">,</span> <span class="token number">0x40</span><span class="token punctuation">,</span> temp<span class="token punctuation">)</span>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Error: Device address: 0x%2X"</span> <span class="token operator">%</span> address<span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    setup<span class="token punctuation">(</span><span class="token number">0x48</span><span class="token punctuation">)</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'AIN0 = '</span><span class="token punctuation">,</span> read<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'AIN1 = '</span><span class="token punctuation">,</span> read<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        tmp <span class="token operator">=</span> read<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        tmp <span class="token operator">=</span> tmp<span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">-</span><span class="token number">125</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">255</span><span class="token operator">+</span><span class="token number">125</span> <span class="token comment" spellcheck="true"># 低于125时LED不会亮，所以请将“0-255”转换为“125-255”</span>        write<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#       time.sleep(0.3)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这里，由于树莓派中没有PCF8591的库文件，所以首先应该添加PCF8591的py文件到树莓派中，这里我也在网上找的<a href="https://pan.baidu.com/s/1ivGO7CSxYdB6vHLvqkagJg" target="_blank" rel="noopener">PCF8591的库文件</a>(提取码:0000)，大家可以自行下载。下面，就是要在刚刚下载好的文件夹里，再新创键一个.py文件作为我们接下来要写的主程序。<br>再写主程序之前，我们需要确认树莓派的IIC是否有打开，首先点击树莓派最左上角的图标，如下图所示：<img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209111904133.jpeg" alt="在这里插入图片描述"><br>之后，点开raspberry pi congifuration得到下图<img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209111904304.png" alt="在这里插入图片描述"><br>在找到interfaces点开，找到IIC，SPI这两个将它们Enable，<img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209111904368.png" alt="在这里插入图片描述"></p><p>或者使用命令</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> raspi-config<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>完成以上步骤后可能要将树莓派重启。重启过后，我们将树莓派与PCF8591，声音传感器连接上线，<img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209111904765.jpeg" alt="在这里插入图片描述"><br>我画红圈的地方是只要你用到PCF8591就得在树莓派或其他设备接上线的，然后再用AIN1接上声音传感器的A0处，声音传感器的+，G处再接的上高低电平。<br>当接线完成后，打开终端并输入<code>i2cdetect -y 1</code>，可能得到如下图：</p><p>如果提示找不到命令</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> i2c-tools<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202209111904877.png" alt="在这里插入图片描述"><br>这一步是找到属于IIC总线打开后你设备的地址，所以写程序首先要给对你的设备地址<code>PCF8591.setup(0x48)</code>,这个0x48对应上你上面查到的你自己的设备地址，然后就是读取读取AIN1的数值<code>PCF8591.read(1)</code>,这里1对应AIN1的接口。<br>完整代码：</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> PCF8591 <span class="token keyword">def</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> PCF8591<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">50</span> <span class="token punctuation">:</span>            <span class="token keyword">print</span> <span class="token punctuation">(</span>PCF8591<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取AIN1的数值</span>        <span class="token keyword">elif</span> PCF8591<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">50</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"noises!"</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        PCF8591<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token number">0x48</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#首先设置设备地址</span>        loop<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token keyword">except</span> KeyboardInterrupt<span class="token punctuation">:</span>        GPIO<span class="token punctuation">.</span>cleanup<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#释放AOUT端口</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span><span class="token comment" spellcheck="true"># -*- coding:utf-8 -*-</span><span class="token keyword">import</span> smbus<span class="token keyword">import</span> time<span class="token keyword">import</span> math <span class="token comment" spellcheck="true"># i2c设备地址</span>address <span class="token operator">=</span> <span class="token number">0x48</span><span class="token comment" spellcheck="true">#选取通道</span>A0 <span class="token operator">=</span> <span class="token number">0x40</span>A1 <span class="token operator">=</span> <span class="token number">0x41</span>A2 <span class="token operator">=</span> <span class="token number">0x42</span>A3 <span class="token operator">=</span> <span class="token number">0x43</span>bus <span class="token operator">=</span> smbus<span class="token punctuation">.</span>SMBus<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">_read_mic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    bus<span class="token punctuation">.</span>write_byte<span class="token punctuation">(</span>address<span class="token punctuation">,</span>A0<span class="token punctuation">)</span>    bus<span class="token punctuation">.</span>read_byte<span class="token punctuation">(</span>address<span class="token punctuation">)</span>    value <span class="token operator">=</span> bus<span class="token punctuation">.</span>read_byte<span class="token punctuation">(</span>address<span class="token punctuation">)</span>    value <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">-</span> value    <span class="token keyword">return</span> value<span class="token keyword">def</span> <span class="token function">read_mic</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>    value_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        value_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>_read_mic<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    ave <span class="token operator">=</span> sum<span class="token punctuation">(</span>value_list<span class="token punctuation">)</span><span class="token operator">/</span>x    dis <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> value <span class="token keyword">in</span> value_list<span class="token punctuation">:</span>        dis <span class="token operator">+=</span> math<span class="token punctuation">.</span>pow<span class="token punctuation">(</span>value <span class="token operator">-</span> ave<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>    dis <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>dis<span class="token operator">/</span>x<span class="token punctuation">)</span>    <span class="token keyword">return</span> dis<span class="token keyword">def</span> <span class="token function">print_bar</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> in_max<span class="token punctuation">,</span> out_max<span class="token punctuation">)</span><span class="token punctuation">:</span>    value <span class="token operator">=</span> int<span class="token punctuation">(</span>value <span class="token operator">/</span> in_max <span class="token operator">*</span> out_max<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s '</span><span class="token operator">%</span>value<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>      <span class="token comment" spellcheck="true"># 每10次采样求均值</span>    value <span class="token operator">=</span> read_mic<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    print_bar<span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># print(value)</span>    <span class="token comment" spellcheck="true"># print('')</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.001</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>以上就是树莓派关于声音传感器的用法。</p>]]></content>
      
      
      <categories>
          
          <category> 树莓派 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 树莓派 </tag>
            
            <tag> 声音传感器 </tag>
            
            <tag> PCF8591 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python 常用函数</title>
      <link href="/2022/08/12/python-chang-yong-han-shu/"/>
      <url>/2022/08/12/python-chang-yong-han-shu/</url>
      
        <content type="html"><![CDATA[<h1 id="🔧-函数用法"><a href="#🔧-函数用法" class="headerlink" title="🔧 函数用法"></a>🔧 函数用法</h1><h2 id="split"><a href="#split" class="headerlink" title="split()"></a>split()</h2><blockquote><p>通过指定字符对字符串进行分割，以列表的形式返回</p></blockquote><pre class="line-numbers language-Python"><code class="language-Python"># str 分隔符，默认为所有的空字符，包括空格、换行(\n)、制表符(\t)等。# num 分割次数。默认为 -1, 即分隔所有。word.split(str,num)# split()默认通过空格分割ls = s.split()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="replace-字符串替换"><a href="#replace-字符串替换" class="headerlink" title="replace() 字符串替换"></a>replace() 字符串替换</h2><h3 id="字符串去掉空格"><a href="#字符串去掉空格" class="headerlink" title="字符串去掉空格"></a>字符串去掉空格</h3><blockquote><p>注意替换后的字符串不会赋值给原字符串，要通过<code>=</code>赋值给原字符串</p></blockquote><pre class="line-numbers language-Python"><code class="language-Python">str = "Hello World"str = str.replace(" ","")print(str)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>输出：HelloWorld</p></blockquote><h2 id="format-函数的槽机制"><a href="#format-函数的槽机制" class="headerlink" title="format()函数的槽机制"></a>format()函数的槽机制</h2><h3 id="基本使用方法"><a href="#基本使用方法" class="headerlink" title="基本使用方法"></a>基本使用方法</h3><pre class="line-numbers language-Python"><code class="language-Python"># "模板字符串".format(<逗号分隔的参数>)print("今天是{}年{}月{}日".format("2022","4",22)) #数字加不加引号都可以，字符串需要加# !!! 槽的序号要么全部加上要么一个都不加# 添加参数之后就可以指定每个槽对应的参数序号print("今天是{2}年{0}月{1}日".format("2022","4",22)) #数字加不加引号都可以，字符串需要加# 今天是2022年3月17日<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="格式控制"><a href="#格式控制" class="headerlink" title="格式控制"></a>格式控制</h3><blockquote><p>槽除了包括参数序号,还可以包括格式控制信息：</p></blockquote><p>槽的内部格式：</p><p><img src="https://lgxdn7v4u2.feishu.cn/space/api/box/stream/download/asynccode/?code=MTcxMDFkN2FhZDc2YzYzMzQ2ZjAzMzk5NGFjZjgzMDhfaW91QzA2bndTekhQbnMxRERrS1pqZkl4akExRXdFeTRfVG9rZW46Ym94Y244NkY3OGpvajdDYVNsRzFXRXR6QmhkXzE2NjAyMzc3NTI6MTY2MDI0MTM1Ml9WNA" alt="img"></p><p>{ &lt;参数序号&gt; : &lt;格式控制标记&gt; }</p><h3 id="槽内部对格式化的配置方式"><a href="#槽内部对格式化的配置方式" class="headerlink" title="槽内部对格式化的配置方式"></a>槽内部对格式化的配置方式</h3><p> { &lt; 参数序号 &gt; : &lt; 格式控制标记 &gt; }</p><p> 格式控制标记包括&lt;填充&gt;、&lt;对齐&gt;、&lt;宽度&gt;、&lt;,&gt;、&lt;.精度&gt;、&lt;类型&gt;6个字段，都是可选的，可以组合使用</p><pre class="line-numbers language-Python"><code class="language-Python">n = 5for i in range(1, n + 1, 2): # {}中的0为format参数中第一个参数也就是i个*号，{0:^{2}}也就是对format参数中第一个参数的字符串进行格式化，格式化控制标记就是^{2},其中{2}就是format中的第三个参数也就是空格填充，居中对齐，槽设定的输出宽度为n print("{0:^{2}}".format('*' * i, 100, n))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h2><blockquote><p>字符串转数字</p></blockquote><pre class="line-numbers language-Python"><code class="language-Python">print(eval('1.2')+1)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>输出：2.2</p></blockquote><h3 id="eval-函数通过字符串调用函数"><a href="#eval-函数通过字符串调用函数" class="headerlink" title="eval() 函数通过字符串调用函数"></a>eval() 函数通过字符串调用函数</h3><pre class="line-numbers language-Python"><code class="language-Python">def add(a,b):return a+bprint(eval("add(1,2)"))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="eval-同时输入多个变量"><a href="#eval-同时输入多个变量" class="headerlink" title="eval()同时输入多个变量"></a>eval()同时输入多个变量</h3><blockquote><p>输入</p><p>1,2,3</p></blockquote><pre class="line-numbers language-Python"><code class="language-Python">a, b, c = eval(input())print(a)print(b)print(c)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>输出</p><p>1</p><p>2</p><p>3</p></blockquote><h2 id="arg1-arg2-arg3…-函数接受无限制数量的参数"><a href="#arg1-arg2-arg3…-函数接受无限制数量的参数" class="headerlink" title="(arg1,arg2,arg3…)函数接受无限制数量的参数"></a>(arg1,arg2,arg3…)函数接受无限制数量的参数</h2><p>其中b在函数中表达除了a以为剩下的所有的输入参数</p><blockquote><p>第一个参数照常输入，以后的所有参数都输入到<code>*b</code>中</p></blockquote><pre class="line-numbers language-Python"><code class="language-Python">def cmul(a,*b): m = a for i in b:     m*=i return mprint(eval("cmul({})".format(input())))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="输入示例1"><a href="#输入示例1" class="headerlink" title="输入示例1"></a>输入示例1</h3><p> 1,2,3,4</p><p>输出示例1</p><p> 24</p><h2 id="random-randint-参数1，参数2-随机数"><a href="#random-randint-参数1，参数2-随机数" class="headerlink" title="random.randint(参数1，参数2) 随机数"></a>random.randint(参数1，参数2) 随机数</h2><ul><li><p>参数1、参数2必须是整数</p></li><li><p>函数返回参数1和参数2之间的任意整数， 闭区间</p></li></ul><blockquote><p>注意引用头文件</p></blockquote><pre class="line-numbers language-Python"><code class="language-Python"> import random # [1,2] random.randint(1,2)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="字符串截取-切片"><a href="#字符串截取-切片" class="headerlink" title="字符串截取 切片[::]"></a>字符串截取 切片[::]</h2><p> string = ‘12345’</p><blockquote><p>格式：字符串[A:B:step]。方括号中有3个位置可填写整数，它们是A，B，step.</p><p>step不填时，默认值为1</p><p>比如：</p><p>string[0:-1] 结果为 1234</p><p>0也可以省略，写成string[:-1]</p><p>当step&gt;0或step&lt;0时，其他参数省略后对应的默认值见下表：</p></blockquote><pre class="line-numbers language-Python"><code class="language-Python"> s = "12345" print(s[::]) # 倒序输出的时候，切片的第三个参数一定要写-1 print(s[-1:-6:-1]) # 可以简写为 print(s[::-1])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>输出：</p><p>12345</p><p>54321</p><p>54321</p></blockquote><ul><li><p>python切片是左闭右开</p></li><li><p>s[:-1]也就是说倒数第一个字符截取不ß到</p></li></ul><pre class="line-numbers language-Python"><code class="language-Python"> s = "1234" print(s[:-1])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>输出</p><p>123</p></blockquote><h1 id="🔔-注意事项"><a href="#🔔-注意事项" class="headerlink" title="🔔 注意事项"></a>🔔 注意事项</h1><p> cnNumber = “零一二三四五六七八九” number = input() for i in number:     # !!! 在通过字符串数字获取数组元素的时候，要通过eval把字符串转为数字     print(cnNumber[eval(i)],end=””)</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Python 常用函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>adb 常用操作</title>
      <link href="/2022/08/12/adb-chang-yong-cao-zuo/"/>
      <url>/2022/08/12/adb-chang-yong-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h1 id="adb常用操作"><a href="#adb常用操作" class="headerlink" title="adb常用操作"></a>adb常用操作</h1><h2 id="adb从手机端传输文件到电脑"><a href="#adb从手机端传输文件到电脑" class="headerlink" title="adb从手机端传输文件到电脑"></a>adb从手机端传输文件到电脑</h2><p>如果此时有多台手机设备 通过 adb -s 设备id 命令 手机文件路径 电脑路径 进行文件传输</p><pre class="line-numbers language-Bash"><code class="language-Bash">adb -s 708566bd pull /storage/emulated/0/DCIM/Camera/VID_20220717_091818.mp4 /Volumes/evo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="adb从电脑端传输文件到手机"><a href="#adb从电脑端传输文件到手机" class="headerlink" title="adb从电脑端传输文件到手机"></a>adb从电脑端传输文件到手机</h2><pre class="line-numbers language-Bash"><code class="language-Bash">adb -s 708566bd push /Volumes/evo/1.txt /storage/emulated/0/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="adb设置屏幕常亮"><a href="#adb设置屏幕常亮" class="headerlink" title="adb设置屏幕常亮"></a>adb设置屏幕常亮</h2><blockquote><p>2147483647 为最大数</p></blockquote><pre class="line-numbers language-Bash"><code class="language-Bash">adb settings put system screen_off_timeout 2147483647<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> adb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> adb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scrcpy adb Android 设备投屏控制工具</title>
      <link href="/2022/08/12/scrcpy-adb-android-she-bei-tou-ping-kong-zhi-gong-ju/"/>
      <url>/2022/08/12/scrcpy-adb-android-she-bei-tou-ping-kong-zhi-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="Scrcpy-Android-设备投屏控制工具"><a href="#Scrcpy-Android-设备投屏控制工具" class="headerlink" title="Scrcpy Android 设备投屏控制工具"></a>Scrcpy Android 设备投屏控制工具</h1><h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><pre class="line-numbers language-Bash"><code class="language-Bash"># adb 只连接到一个设备的时候 # 开启屏幕控制scrcpy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="控制快捷键"><a href="#控制快捷键" class="headerlink" title="控制快捷键"></a>控制快捷键</h3><table><thead><tr><th>操作</th><th>快捷键</th></tr></thead><tbody><tr><td>全屏</td><td>MOD+f</td></tr><tr><td>向左旋转屏幕</td><td>MOD+← (左箭头)</td></tr><tr><td>向右旋转屏幕</td><td>MOD+→ (右箭头)</td></tr><tr><td>将窗口大小重置为1:1 (匹配像素)</td><td>MOD+g</td></tr><tr><td>将窗口大小重置为消除黑边</td><td>MOD+w | 双击左键¹</td></tr><tr><td>点按 主屏幕</td><td>MOD+h | 中键</td></tr><tr><td>点按 返回</td><td>MOD+b | 右键²</td></tr><tr><td>点按 切换应用</td><td>MOD+s | 第4键³</td></tr><tr><td>点按 菜单 (解锁屏幕)</td><td>MOD+m</td></tr><tr><td>点按 音量+</td><td>MOD+↑ (上箭头)</td></tr><tr><td>点按 音量-</td><td>MOD+↓ (下箭头)</td></tr><tr><td>点按 电源</td><td>MOD+p</td></tr><tr><td>打开屏幕</td><td>鼠标右键²</td></tr><tr><td>关闭设备屏幕 (但继续在电脑上显示)</td><td>MOD+o</td></tr><tr><td>打开设备屏幕</td><td>MOD+Shift+o</td></tr><tr><td>旋转设备屏幕</td><td>MOD+r</td></tr><tr><td>展开通知面板</td><td>MOD+n | 第5键³</td></tr><tr><td>展开设置面板</td><td>MOD+n+n | 双击第5键³</td></tr><tr><td>收起通知面板</td><td>MOD+Shift+n</td></tr><tr><td>复制到剪贴板⁴</td><td>MOD+c</td></tr><tr><td>剪切到剪贴板⁴</td><td>MOD+x</td></tr><tr><td>同步剪贴板并粘贴⁴</td><td>MOD+v</td></tr><tr><td>注入电脑剪贴板文本</td><td>MOD+Shift+v</td></tr><tr><td>打开/关闭FPS显示 (至标准输出)</td><td>MOD+i</td></tr><tr><td>捏拉缩放</td><td>Ctrl+按住并移动鼠标</td></tr><tr><td>拖放 APK 文件</td><td>从电脑安装 APK 文件</td></tr><tr><td>拖放非 APK 文件</td><td>将文件推送至设备</td></tr></tbody></table><h2 id="多个设备如何选择一个进行控制"><a href="#多个设备如何选择一个进行控制" class="headerlink" title="多个设备如何选择一个进行控制"></a>多个设备如何选择一个进行控制</h2><pre class="line-numbers language-Bash"><code class="language-Bash"># scrcpy -s 设备idscrcpy -s a7057bc4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="局域网内连接"><a href="#局域网内连接" class="headerlink" title="局域网内连接"></a>局域网内连接</h2><h3 id="1-手机开启无线adb调试（一般都在开发者选项中，这里我以小米手机-红米K30Pro举例）"><a href="#1-手机开启无线adb调试（一般都在开发者选项中，这里我以小米手机-红米K30Pro举例）" class="headerlink" title="1.手机开启无线adb调试（一般都在开发者选项中，这里我以小米手机 红米K30Pro举例）"></a>1.手机开启无线adb调试（一般都在开发者选项中，这里我以小米手机 红米K30Pro举例）</h3><p><img src="https://lgxdn7v4u2.feishu.cn/space/api/box/stream/download/asynccode/?code=MGU0N2Y2N2RiZjc5NWIzZjZkYzY2M2M3MzNiNmUxZjRfc2FFUjE0Z1BpbXJpWVZDRlBKZkJmTDM0N0JMb2xGN2FfVG9rZW46Ym94Y25FUzg4QlhUNExmMVZldUFrUFRhVXFmXzE2NjAyMzY4MTY6MTY2MDI0MDQxNl9WNA" alt="img"></p><h3 id="2-找到IP地址和端口"><a href="#2-找到IP地址和端口" class="headerlink" title="2.找到IP地址和端口"></a>2.找到IP地址和端口</h3><p><img src="https://lgxdn7v4u2.feishu.cn/space/api/box/stream/download/asynccode/?code=OWRjODM2Y2UxYjk2Y2I5NTk1YThlNzE2NTUwYzM1N2NfN0VHeXN1OVRobWJaZ0RrVGZmVU9PQTJVclNYQnlJZmdfVG9rZW46Ym94Y25pd213YWFSNkRHYmZpZXZJMjJHcHNmXzE2NjAyMzY4MTY6MTY2MDI0MDQxNl9WNA" alt="img"></p><h3 id="3-通过adb命令连接手机"><a href="#3-通过adb命令连接手机" class="headerlink" title="3.通过adb命令连接手机"></a>3.通过adb命令连接手机</h3><pre class="line-numbers language-Bash"><code class="language-Bash">adb connect 192.168.0.113:40439<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="4-通过scrcpy无线连接手机"><a href="#4-通过scrcpy无线连接手机" class="headerlink" title="4.通过scrcpy无线连接手机"></a>4.通过scrcpy无线连接手机</h3><pre class="line-numbers language-Bash"><code class="language-Bash">scrcpy -s 192.168.0.113:40439<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="Todo"><a href="#Todo" class="headerlink" title="Todo"></a>Todo</h2><p>阅读参考文章，整理远程ssh，或者内网穿透控制（实现远程控制长辈手机）、做一个远程可以控制长辈手机的工具</p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://blog.csdn.net/huangbiao86/article/details/121464539" target="_blank" rel="noopener">https://blog.csdn.net/huangbiao86/article/details/121464539</a></p>]]></content>
      
      
      <categories>
          
          <category> Scrcpy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> adb </tag>
            
            <tag> Scrcpy </tag>
            
            <tag> 投屏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gradle 注意事项</title>
      <link href="/2022/08/12/gradle-zhu-yi-shi-xiang/"/>
      <url>/2022/08/12/gradle-zhu-yi-shi-xiang/</url>
      
        <content type="html"><![CDATA[<h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><h2 id="Android-Gradle-Plugin、Gradle、-Build-Tools、JDK版本对应关系"><a href="#Android-Gradle-Plugin、Gradle、-Build-Tools、JDK版本对应关系" class="headerlink" title="Android Gradle Plugin、Gradle、 Build Tools、JDK版本对应关系"></a>Android Gradle Plugin、Gradle、 Build Tools、JDK版本对应关系</h2><p>1.首先Android Gradle Version要和 Gradle Plugin Version对应</p><p>下表列出了各个 Android Gradle 插件版本所需的 Gradle 版本。为了获得最佳性能，您应使用 Gradle 和插件这两者的最新版本。</p><table><thead><tr><th>插件版本</th><th>所需的 Gradle 版本</th></tr></thead><tbody><tr><td>1.0.0 - 1.1.3</td><td>2.2.1 - 2.3</td></tr><tr><td>1.2.0 - 1.3.1</td><td>2.2.1 - 2.9</td></tr><tr><td>1.5.0</td><td>2.2.1 - 2.13</td></tr><tr><td>2.0.0 - 2.1.2</td><td>2.10 - 2.13</td></tr><tr><td>2.1.3 - 2.2.3</td><td>2.14.1 - 3.5</td></tr><tr><td>2.3.0+</td><td>3.3+</td></tr><tr><td>3.0.0+</td><td>4.1+</td></tr><tr><td>3.1.0+</td><td>4.4+</td></tr><tr><td>3.2.0 - 3.2.1</td><td>4.6+</td></tr><tr><td>3.3.0 - 3.3.3</td><td>4.10.1+</td></tr><tr><td>3.4.0 - 3.4.3</td><td>5.1.1+</td></tr><tr><td>3.5.0 - 3.5.4</td><td>5.4.1+</td></tr><tr><td>3.6.0 - 3.6.4</td><td>5.6.4+</td></tr><tr><td>4.0.0+</td><td>6.1.1+</td></tr><tr><td>4.1.0+</td><td>6.5+</td></tr><tr><td>4.2.0+</td><td>6.7.1+</td></tr><tr><td>7</td><td>7.0+</td></tr><tr><td>7.1</td><td>7.2+</td></tr><tr><td>7.2</td><td>7.3.3+</td></tr></tbody></table><p>Gradle 7.0.2 支持的最低JDK版本为11</p><table><thead><tr><th>Android Gradle 插件</th><th>Gradle</th><th>SDK Build Tools</th><th>JDK</th><th>默认NDK</th></tr></thead><tbody><tr><td>7.0.0</td><td>最低7.0.2</td><td>最低30.0.2</td><td>最低11</td><td>21.4.7075529</td></tr><tr><td>4.2.0</td><td><a href="https://docs.gradle.org/6.7.1/release-notes.html" target="_blank" rel="noopener">最低6.7.1</a></td><td><a href="https://developer.android.google.cn/studio/releases/build-tools#notes" target="_blank" rel="noopener">最低30.0.2</a></td><td>默认8，可显示指定7Android Studio4.2捆绑java11</td><td>21.4.7075529</td></tr><tr><td>4.1.0</td><td>最低<a href="https://docs.gradle.org/6.5.1/release-notes.html" target="_blank" rel="noopener">6.5</a></td><td>最低<a href="https://developer.android.google.cn/studio/releases/build-tools#notes" target="_blank" rel="noopener">29.0.2</a></td><td></td><td>21.1.6352462</td></tr><tr><td>4.0.0</td><td>6.1.1</td><td>29.0.2</td><td></td><td></td></tr><tr><td>3.6.0</td><td>5.6.4</td><td>28.0.3</td><td></td><td></td></tr><tr><td>3.5.0</td><td><a href="https://docs.gradle.org/5.4.1/release-notes.html" target="_blank" rel="noopener">Gradle 5.4.1</a></td><td><a href="https://developer.android.google.cn/studio/releases/build-tools#notes" target="_blank" rel="noopener">SDK Build Tools 28.0.3</a></td><td></td><td></td></tr><tr><td>3.4.0</td><td><a href="https://docs.gradle.org/5.1.1/release-notes.html" target="_blank" rel="noopener">Gradle 5.1.1</a></td><td><a href="https://developer.android.google.cn/studio/releases/build-tools#notes" target="_blank" rel="noopener">SDK Build Tools 28.0.3</a></td><td></td><td></td></tr><tr><td>3.3.0</td><td><a href="https://docs.gradle.org/4.10.1/release-notes.html" target="_blank" rel="noopener">Gradle 4.10.1</a></td><td><a href="https://developer.android.google.cn/studio/releases/build-tools#notes" target="_blank" rel="noopener">SDK Build Tools 28.0.3</a></td><td></td><td></td></tr><tr><td>3.2.0</td><td><a href="https://docs.gradle.org/4.6/release-notes.html" target="_blank" rel="noopener">Gradle 4.6</a></td><td><a href="https://developer.android.google.cn/studio/releases/build-tools#notes" target="_blank" rel="noopener">SDK Build Tools 28.0.3</a></td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Gradle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Gradle </tag>
            
            <tag> JDK </tag>
            
            <tag> Android Gradle Plugin </tag>
            
            <tag> Build Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matlab 常用操作</title>
      <link href="/2022/08/12/matlab-chang-yong-cao-zuo/"/>
      <url>/2022/08/12/matlab-chang-yong-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h1 id="MATLAB常用操作"><a href="#MATLAB常用操作" class="headerlink" title="MATLAB常用操作"></a>MATLAB常用操作</h1><h2 id="产生一个a至b之间的随机矩阵-大小为1x5"><a href="#产生一个a至b之间的随机矩阵-大小为1x5" class="headerlink" title="产生一个a至b之间的随机矩阵,大小为1x5"></a>产生一个a至b之间的随机矩阵,大小为1x5</h2><pre class="line-numbers language-matlab"><code class="language-matlab">a <span class="token operator">+</span> <span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="产生一个均值为0，标准差（方差开根号）为2的正态分布的随机矩阵，大小为3x4"><a href="#产生一个均值为0，标准差（方差开根号）为2的正态分布的随机矩阵，大小为3x4" class="headerlink" title="产生一个均值为0，标准差（方差开根号）为2的正态分布的随机矩阵，大小为3x4"></a>产生一个均值为0，标准差（方差开根号）为2的正态分布的随机矩阵，大小为3x4</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token function">normrnd</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="roundn—任意位置四舍五入"><a href="#roundn—任意位置四舍五入" class="headerlink" title="roundn—任意位置四舍五入"></a>roundn—任意位置四舍五入</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token comment" spellcheck="true">% 0个位 1十位  2百位 -1小数点后一位  </span>a <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token function">roundn</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">% ans   =  3.1400</span><span class="token function">roundn</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">% ans   =  0</span>a <span class="token operator">=</span><span class="token number">31415</span><span class="token function">roundn</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">% ans  = 31400</span><span class="token function">roundn</span><span class="token punctuation">(</span><span class="token number">5.5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">%6</span><span class="token function">roundn</span><span class="token punctuation">(</span><span class="token number">5.5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">%10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="方差"><a href="#方差" class="headerlink" title="方差"></a>方差</h2><pre class="line-numbers language-matlab"><code class="language-matlab">A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">var</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="样本方差"><a href="#样本方差" class="headerlink" title="样本方差"></a>样本方差</h2><pre class="line-numbers language-matlab"><code class="language-matlab">A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">var</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="标准差"><a href="#标准差" class="headerlink" title="标准差"></a>标准差</h2><pre class="line-numbers language-matlab"><code class="language-matlab">A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">std</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="数组元素求和"><a href="#数组元素求和" class="headerlink" title="数组元素求和"></a>数组元素求和</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token comment" spellcheck="true">% 求数组每一列的和</span><span class="token function">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token comment" spellcheck="true">% 求数组每一行的和</span><span class="token function">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="数组元素的乘积"><a href="#数组元素的乘积" class="headerlink" title="数组元素的乘积"></a>数组元素的乘积</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token comment" spellcheck="true">% 求数组每一列元素相乘的结果</span><span class="token function">prod</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token comment" spellcheck="true">% 求数组每一行元素相乘的结果</span><span class="token function">prod</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="按列归一化"><a href="#按列归一化" class="headerlink" title="按列归一化"></a>按列归一化</h2><p>每一列的每一个元素除以这一列的和</p><h2 id="求矩阵列向量间的相关系数矩阵"><a href="#求矩阵列向量间的相关系数矩阵" class="headerlink" title="求矩阵列向量间的相关系数矩阵"></a>求矩阵列向量间的相关系数矩阵</h2><pre class="line-numbers language-matlab"><code class="language-matlab">r <span class="token operator">=</span> <span class="token function">corrcoef</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><strong><em>\</em>param:**</strong></p><p>　　X：这个矩阵X的每一列看做一个向量</p><p><strong><em>\</em>return：**</strong></p><p>　　r： 相关系数矩阵。返回每两列之间的相关系数组成的矩阵，对称阵，对角为方差，一个向量的方差就是对向量的每个数求var。</p><p>　　注意使用时不必对设计阵做标准化处理。因为我们实际要求的是标准化变量的协方差矩阵，而就是原设计阵的相关系数矩阵。</p></blockquote><h2 id="层次分析法"><a href="#层次分析法" class="headerlink" title="层次分析法"></a>层次分析法</h2><p> RI</p><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token comment" spellcheck="true">% 这里n=2时，一定是一致矩阵，所以CI = 0，我们为了避免分母为0，将这里的第二个元素改为了很接近0的正数</span>RI<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0.0001</span> <span class="token number">0.52</span> <span class="token number">0.89</span> <span class="token number">1.12</span> <span class="token number">1.26</span> <span class="token number">1.36</span> <span class="token number">1.41</span> <span class="token number">1.46</span> <span class="token number">1.49</span> <span class="token number">1.52</span> <span class="token number">1.54</span> <span class="token number">1.56</span> <span class="token number">1.58</span> <span class="token number">1.59</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="求矩阵最大特征值"><a href="#求矩阵最大特征值" class="headerlink" title="求矩阵最大特征值"></a>求矩阵最大特征值</h3><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token comment" spellcheck="true">%% 求A的特征向量构成V的列向量，求矩阵A的全部特征值，构成对角阵D</span><span class="token punctuation">[</span>V<span class="token punctuation">,</span>D<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">eig</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>Max_eig <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="判断矩阵是否是正互反矩阵"><a href="#判断矩阵是否是正互反矩阵" class="headerlink" title="判断矩阵是否是正互反矩阵"></a>判断矩阵是否是正互反矩阵</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token keyword">function</span> flag <span class="token operator">=</span> <span class="token function">isRM</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">% 是否是正互反矩阵的标志变量</span>    flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token function">diag</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token function">size</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">for</span> <span class="token number">j</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token function">size</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">,</span><span class="token number">j</span><span class="token punctuation">)</span><span class="token operator">~=</span><span class="token number">1</span><span class="token operator">/</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token number">j</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">end</span>            <span class="token keyword">end</span>        <span class="token keyword">end</span>    <span class="token keyword">else</span>        flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">end</span>    <span class="token keyword">if</span> flag<span class="token operator">==</span><span class="token number">1</span>        <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">'该矩阵是正互反矩阵'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">'该矩阵不是正互反矩阵'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="获取矩阵的对角元素"><a href="#获取矩阵的对角元素" class="headerlink" title="获取矩阵的对角元素"></a>获取矩阵的对角元素</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token comment" spellcheck="true">% 返回包含主对角线上向量A的元素的对角矩阵</span><span class="token function">diag</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="创建对角矩阵"><a href="#创建对角矩阵" class="headerlink" title="创建对角矩阵"></a>创建对角矩阵</h2><pre class="line-numbers language-matlab"><code class="language-matlab">v <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">% 使用 diag 创建一个包含 v 在主对角线上的元素的矩阵。</span>D <span class="token operator">=</span> <span class="token function">diag</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="相关性模型"><a href="#相关性模型" class="headerlink" title="相关性模型"></a>相关性模型</h1><h2 id="描述性统计"><a href="#描述性统计" class="headerlink" title="描述性统计"></a>描述性统计</h2><pre><code></code></pre><h1 id="微分方程"><a href="#微分方程" class="headerlink" title="微分方程"></a>微分方程</h1><h2 id="求解析解"><a href="#求解析解" class="headerlink" title="求解析解"></a>求解析解</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token function">dsolve</span><span class="token punctuation">(</span><span class="token string">'y-Dy=2*x'</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">% 这里要指定自变量为x</span><span class="token comment" spellcheck="true">% 2*x + C1*exp(x) + 2  (这里的C1表示任意常数，有时候也会出现C2 C3等)</span><span class="token function">dsolve</span><span class="token punctuation">(</span><span class="token string">'y-Dy=2*x'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">% 如果不指定自变量的话，会默认自变量为t，x会看成一个常数</span><span class="token comment" spellcheck="true">% 2*x + C2*exp(t)</span><span class="token comment" spellcheck="true">%% 如果微分方程中还有其他的未知参数</span><span class="token function">dsolve</span><span class="token punctuation">(</span><span class="token string">'y-Dy=a*x'</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">% a是一个未知的参数</span><span class="token comment" spellcheck="true">%% 如果微分方程有已知条件 y(0)=3</span><span class="token function">dsolve</span><span class="token punctuation">(</span><span class="token string">'y-Dy=2*x'</span><span class="token punctuation">,</span><span class="token string">'y(0)=3'</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">%% 如果微分方程已知多个条件</span><span class="token function">dsolve</span><span class="token punctuation">(</span><span class="token string">'D2y+4*Dy+29*y=0'</span><span class="token punctuation">,</span><span class="token string">'y(0)=0,Dy(0)=15'</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="求数值解"><a href="#求数值解" class="headerlink" title="求数值解"></a>求数值解</h2><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token function">ode45</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h1><ul><li><p>量纲不同的数据要进行标准化，消除不同指标量纲的影响</p></li><li><p>代码开始记得加clear，clc初始化</p></li></ul><ul><li><p>批量生成变量</p><pre class="line-numbers language-matlab"><code class="language-matlab"><span class="token comment" spellcheck="true">% 批量生成变量</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">10</span>   generateVar <span class="token operator">=</span> <span class="token function">strcat</span><span class="token punctuation">(</span><span class="token string">'w'</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token function">eval</span><span class="token punctuation">(</span>generateVar<span class="token punctuation">)</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><ul><li>plot绘制多个图形的时候加上figure(n)标签，防止前面的被覆盖</li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> Matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Matlab </tag>
            
            <tag> 数学建模 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python程序打包成.exe可执行文件</title>
      <link href="/2022/08/12/python-cheng-xu-da-bao-cheng-exe-ke-zhi-xing-wen-jian/"/>
      <url>/2022/08/12/python-cheng-xu-da-bao-cheng-exe-ke-zhi-xing-wen-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="Python程序打包成-exe可执行文件"><a href="#Python程序打包成-exe可执行文件" class="headerlink" title="Python程序打包成.exe可执行文件"></a>Python程序打包成.exe可执行文件</h1><blockquote><p>首先下载pyinstaller</p><p>pycharm下方的terminal终端里输入：</p><p>pip install pyinstaller</p><p>然后在终端内输入命令：</p><ul><li>推荐<br>pyinstaller -w -F xxx.py</li><li>可选<br>pyinstaller -F xxxx.py<br>(pyinstaller -w -F xxx.py其中的-w是生成的.exe文件不出现cmd命令提示窗口；-F表示希望所有的程序全部打包在一起，生成一个.exe文件，这样生成的.exe文件集成度高，但是运行速度慢，如果不写-F，生成一堆.dll文件，这样的程序里文件很多，但是运行速度比较快)</li></ul><p>如图所示是不写-F的结果</p><p> <img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202208120035615.png" alt="在这里插入图片描述"></p></blockquote><p> 注意事项：xxx.py知得失整个项目的入口程序，写项目的时候可能是多个文件编程，但是整个项目靠哪个文件作为入口进入的就填那个文件的名字。</p><p>常见错误：<br>ValueError: script ‘C:\Users\Administrator.XXX.py’ not found<br>找不到XXX.py这个程序</p><p><img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202208120035665.png" alt="在这里插入图片描述"></p><p>解决方案：<br>pyinstaller找文件的方法是看你建立的那个工程文件夹里有没有你写进去的文件，而不是看子文件夹里有没有。如果您是在子文件夹中写程序，可以把你写的所有程序都拷贝到工程文件夹中。<br>如果你在代码中导入了图片、文档等与路径相关的文件，注意修改路径。</p><p>生成的.exe文件在项目文件夹的dist文件夹下</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 程序打包 </tag>
            
            <tag> exe可执行文件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python项目规范</title>
      <link href="/2022/08/12/python-xiang-mu-gui-fan/"/>
      <url>/2022/08/12/python-xiang-mu-gui-fan/</url>
      
        <content type="html"><![CDATA[<h1 id="Python项目规范"><a href="#Python项目规范" class="headerlink" title="Python项目规范"></a>Python项目规范</h1><h3 id="依赖文件requirements"><a href="#依赖文件requirements" class="headerlink" title="依赖文件requirements"></a>依赖文件requirements</h3><p>每个项目都要生成依赖文件requirements<br>使用pipreqs库（找当前项目依赖的包）</p><pre class="line-numbers language-bash"><code class="language-bash">pip3 <span class="token function">install</span> pipreqs    <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 生成当前项目依赖的包文件</span>pipreqs ./ --encoding<span class="token operator">=</span>utf-8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 执行下面代码就会把项目用到的所有组件装上</span>pip3 <span class="token function">install</span> -r requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="每个项目都有项目缩略图preview"><a href="#每个项目都有项目缩略图preview" class="headerlink" title="每个项目都有项目缩略图preview"></a>每个项目都有项目缩略图preview</h3><p><img src="https://markgosling.oss-cn-beijing.aliyuncs.com/img/202208120031036.png" alt="image-20220812003152983"></p>]]></content>
      
      
      <categories>
          
          <category> 项目规范 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 项目规范 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿里云盘资源搜索网站合集</title>
      <link href="/2022/08/11/a-li-wang-pan-zi-yuan-sou-suo-wang-zhan-he-ji/"/>
      <url>/2022/08/11/a-li-wang-pan-zi-yuan-sou-suo-wang-zhan-he-ji/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 资源分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 阿里云盘 </tag>
            
            <tag> 资源分享 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
